var Loadtex1=pc.createScript("loadtex1");Loadtex1.attributes.add("url",{type:"string"}),Loadtex1.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex2=pc.createScript("loadtex2");Loadtex2.attributes.add("url2",{type:"string"}),Loadtex2.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url2};var Loadtex3=pc.createScript("loadtex3");Loadtex3.attributes.add("url3",{type:"string"}),Loadtex3.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){new pc.Texture(e.app.graphicsDevice).setSource(t);var a=e.entity.model.material;a.diffuseMap=texture,a.update()},t.src=this.url3};var Loadtex4=pc.createScript("loadtex4");Loadtex4.attributes.add("url",{type:"string"}),Loadtex4.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){new pc.Texture(e.app.graphicsDevice).setSource(t);var a=e.entity.model.material;a.diffuseMap=texture,a.update()},t.src=this.url};var Loadtex5=pc.createScript("loadtex5");Loadtex5.attributes.add("url",{type:"string"}),Loadtex5.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var t=new pc.Texture(e.app.graphicsDevice);t.setSource(image);var a=e.entity.model.material;a.diffuseMap=t,a.update()},t.src=this.url};var Loadtex6=pc.createScript("loadtex6");Loadtex6.attributes.add("url",{type:"string"}),Loadtex6.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex7=pc.createScript("loadtex7");Loadtex7.attributes.add("url",{type:"string"}),Loadtex7.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex8=pc.createScript("loadtex8");Loadtex8.attributes.add("url",{type:"string"}),Loadtex8.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex9=pc.createScript("loadtex9");Loadtex9.attributes.add("url",{type:"string"}),Loadtex9.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex10=pc.createScript("loadtex10");Loadtex10.attributes.add("url",{type:"string"}),Loadtex10.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex11=pc.createScript("loadtex11");Loadtex11.attributes.add("url",{type:"string"}),Loadtex11.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex12=pc.createScript("loadtex12");Loadtex12.attributes.add("url",{type:"string"}),Loadtex12.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var t=new pc.Texture(e.app.graphicsDevice);t.setSource(image);var a=e.entity.model.material;a.diffuseMap=t,a.update()},t.src=this.url};var Loadtex13=pc.createScript("loadtex13");Loadtex13.attributes.add("url",{type:"string"}),Loadtex13.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex14=pc.createScript("loadtex14");Loadtex14.attributes.add("url",{type:"string"}),Loadtex14.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var Loadtex15=pc.createScript("loadtex15");Loadtex15.attributes.add("url",{type:"string"}),Loadtex15.prototype.initialize=function(){var e=this,t=new Image;t.crossOrigin="anonymous",t.onload=function(){var a=new pc.Texture(e.app.graphicsDevice);a.setSource(t);var i=e.entity.model.material;i.diffuseMap=a,i.update()},t.src=this.url};var FirstPersonMovement=pc.createScript("firstPersonMovement");FirstPersonMovement.attributes.add("First Person Camera",{type:"entity"}),FirstPersonMovement.attributes.add("power",{type:"number"}),FirstPersonMovement.attributes.add("lookSpeed",{type:"number"}),FirstPersonMovement.prototype.initialize=function(){this.force=new pc.Vec3,this.camera=null,this.eulers=new pc.Vec3;var e=this.app;e.mouse.on("mousemove",this._onMouseMove,this),e.mouse.on("mousedown",function(){e.mouse.enablePointerLock()},this),this.entity.collision||console.error("First Person Movement script needs to have a 'collision' component"),this.entity.rigidbody&&this.entity.rigidbody.type===pc.BODYTYPE_DYNAMIC||console.error("First Person Movement script needs to have a DYNAMIC 'rigidbody' component")},FirstPersonMovement.prototype.update=function(e){this.camera||this._createCamera();var t=this.force,s=this.app,o=this.camera.forward,r=this.camera.right,i=0,n=0;(s.keyboard.isPressed(pc.KEY_A)||s.keyboard.isPressed(pc.KEY_Q))&&(i-=r.x,n-=r.z),s.keyboard.isPressed(pc.KEY_D)&&(i+=r.x,n+=r.z),s.keyboard.isPressed(pc.KEY_W)&&(i+=o.x,n+=o.z),s.keyboard.isPressed(pc.KEY_S)&&(i-=o.x,n-=o.z),0!==i&&0!==n&&(t.set(i,0,n).normalize().scale(this.power),this.entity.rigidbody.applyForce(t)),this.camera.setLocalEulerAngles(this.eulers.y,this.eulers.x,0)},FirstPersonMovement.prototype._onMouseMove=function(e){(pc.Mouse.isPointerLocked()||e.buttons[0])&&(this.eulers.x-=this.lookSpeed*e.dx,this.eulers.y-=this.lookSpeed*e.dy)},FirstPersonMovement.prototype._createCamera=function(){this.camera=new pc.Entity,this.camera.setName("First Person Camera"),this.camera.addComponent("camera"),this.entity.addChild(this.camera),this.camera.translateLocal(0,.5,0)};var LoadExternalImage=pc.createScript("loadExternalImage");LoadExternalImage.attributes.add("imageUrl",{type:"string"}),LoadExternalImage.prototype.initialize=function(){var e=this;this.app.loader.getHandler("texture").crossOrigin="anonymous";var a=new pc.Asset("myTexture","texture",{url:this.imageUrl});this.app.assets.add(a),a.on("error",function(e){console.log(e)}),a.on("load",function(a){var t=e.entity.model.material.clone();t.diffuseMap=a.resource,t.update(),e.entity.model.material=t}),this.app.assets.load(a)},LoadExternalImage.prototype.update=function(e){};var MultitouchInput=pc.createScript("multitouchInput");MultitouchInput.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),MultitouchInput.attributes.add("lineColor",{type:"rgba",title:"Line Color"}),MultitouchInput.DEFAULT_DISTANCE_FROM_CAMERA=4,MultitouchInput.prototype.initialize=function(){var t=this.app.touch;t&&(t.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),t.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),t.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this),t.on(pc.EVENT_TOUCHCANCEL,this.onTouchCancel,this)),this.activeTouches=[],this.freeTouches=[]},MultitouchInput.prototype.update=function(t){for(var o=1;o<this.activeTouches.length;o+=1){var i=this.activeTouches[o-1],e=this.activeTouches[o];this.app.renderLine(i.position,e.position,this.lineColor)}},MultitouchInput.prototype.addTouchWorldPosition=function(t){var o=null;(o=this.freeTouches.length>0?this.freeTouches.pop():{id:0,position:new pc.Vec3}).id=t.id,this.cameraEntity.camera.screenToWorld(t.x,t.y,MultitouchInput.DEFAULT_DISTANCE_FROM_CAMERA,o.position),this.activeTouches.push(o)},MultitouchInput.prototype.updateTouchWorldPosition=function(t){for(var o=0;o<this.activeTouches.length;o+=1){var i=this.activeTouches[o];if(t.id==i.id)return void this.cameraEntity.camera.screenToWorld(t.x,t.y,MultitouchInput.DEFAULT_DISTANCE_FROM_CAMERA,i.position)}},MultitouchInput.prototype.removeTouchWorldPosition=function(t){var o=-1,i=0;for(i=0;i<this.activeTouches.length;i+=1){var e=this.activeTouches[i];if(t.id==e.id){o=i;break}}if(-1!=o){var u=this.activeTouches.splice(o,1);for(i=0;i<u.length;i+=1)this.freeTouches.push(u[i])}},MultitouchInput.prototype.onTouchStart=function(t){for(var o=t.changedTouches,i=0;i<o.length;i+=1)this.addTouchWorldPosition(o[i])},MultitouchInput.prototype.onTouchMove=function(t){for(var o=t.changedTouches,i=0;i<o.length;i+=1)this.updateTouchWorldPosition(o[i])},MultitouchInput.prototype.onTouchEnd=function(t){for(var o=t.changedTouches,i=0;i<o.length;i+=1)this.removeTouchWorldPosition(o[i])},MultitouchInput.prototype.onTouchCancel=function(t){for(var o=t.changedTouches,i=0;i<o.length;i+=1)this.removeTouchWorldPosition(o[i])};